ngx_addon_name=ngx_http_rate_limit_module

if [ -z "$ngx_module_link" ]; then
cat << END

$0: error: rate limit module requires recent version of NGINX (1.9.11+).

END
    exit 1
fi

RATE_LIMIT_SRCS="                                                               \
                $ngx_addon_dir/src/ngx_http_rate_limit_module.c                 \
                $ngx_addon_dir/src/ngx_http_rate_limit_handler.c                \
                $ngx_addon_dir/src/ngx_http_rate_limit_upstream.c               \
                $ngx_addon_dir/src/ngx_http_rate_limit_util.c                   \
                "

RATE_LIMIT_DEPS="                                                               \
                $ngx_addon_dir/src/ngx_http_rate_limit_module.h                 \
                $ngx_addon_dir/src/ngx_http_rate_limit_handler.h                \
                $ngx_addon_dir/src/ngx_http_rate_limit_upstream.h               \
                $ngx_addon_dir/src/ngx_http_rate_limit_util.h                   \
                "

ngx_module_type=HTTP
ngx_module_name=$ngx_addon_name
ngx_module_srcs="$RATE_LIMIT_SRCS"
ngx_module_deps="$RATE_LIMIT_DEPS"

. auto/module
